# Render and commit

Before your components are displayed on screen,
they must be rendered by React.
Understanding the steps in this process
will help you think about
how your code executes and explain its behavior.

### You will learn

- What rendering means in React
- When and why React renders a component
- The steps involved in displaying a component on screen
- Why rendering does not always produce a DOM update

Imagine that
your components are cooks in the kitchen,
assembling tasty dishes from ingredients.
In this scenario,
React is the waiter
who puts in requests from customers
and brings them their orders.
This process of requesting and serving UI has three steps:

1. <b>Triggering</b> a render
   (delivering the guest’s order to the kitchen)
2. <b>Rendering</b> the component
   (preparing the order in the kitchen)
3. <b>Committing</b> to the DOM
   (placing the order on the table)

![](https://react.dev/images/docs/illustrations/i_render-and-commit1.png)

Trigger

![](https://react.dev/images/docs/illustrations/i_render-and-commit2.png)

Render

![](https://react.dev/images/docs/illustrations/i_render-and-commit3.png)

Commit

## Step 1: Trigger a render

There are two reasons for a component to render:

1. It’s the component’s <b>initial render.</b>
2. The component’s (or one of its ancestors’) <b>state has been updated.</b>

### Initial render

When your app starts,
you need to trigger the initial render.
Frameworks and sandboxes
sometimes hide this code,
but it’s done by calling createRoot with the target DOM node,
and then calling its render method with your component:

```jsx
// index.js
import Image from "./Image.js";
import { createRoot } from "react-dom/client";

const root = createRoot(document.getElementById("root"));
root.render(<Image />);

// Image.js
export default function Image() {
  return (
    <img
      src="https://i.imgur.com/ZF6s192.jpg"
      alt="'Floralis Genérica' by Eduardo Catalano: a gigantic metallic flower sculpture with reflective petals"
    />
  );
}
```

Try commenting out the root.render() call
and see the component disappear!

### Re-renders when state updates

Once the component has been initially rendered,
you can trigger further renders
by updating its state with the set function.
Updating your component’s state automatically queues a render.
(You can imagine these
as a restaurant guest ordering
tea, dessert, and all sorts of things after putting in their first order,
depending on the state of their thirst or hunger.)

![](https://react.dev/images/docs/illustrations/i_rerender1.png)

State update...

![](https://react.dev/images/docs/illustrations/i_rerender2.png)

...triggers...

![](https://react.dev/images/docs/illustrations/i_rerender3.png)

...render!

## Step 2: React renders your components

After you trigger a render,
React calls
your components to figure out
what to display on screen.
<b>“Rendering” is
React calling your components.</b>

- <b>On initial render,</b>
  React will call the root component.
  <b>For subsequent renders,</b>
  React will call the function component
  whose state update triggered the render.

This process is recursive:
if the updated component
returns some other component,
React will render that component next,
and if that component also returns something,
it will render that component next, and so on.
The process will continue
until there are no more nested components
and React knows exactly
what should be displayed on screen.

In the following example,
React will call Gallery() and Image() several times:

```jsx
// Gallery.js
export default function Gallery() {
  return (
    <section>
      <h1>Inspiring Sculptures</h1>
      <Image />
      <Image />
      <Image />
    </section>
  );
}

function Image() {
  return (
    <img
      src="https://i.imgur.com/ZF6s192.jpg"
      alt="'Floralis Genérica' by Eduardo Catalano: a gigantic metallic flower sculpture with reflective petals"
    />
  );
}

// index.js
import Gallery from "./Gallery.js";
import { createRoot } from "react-dom/client";

const root = createRoot(document.getElementById("root"));
root.render(<Gallery />);
```

- During the initial render,
  React will create the DOM nodes for
  \<section>, \<h1>, and three \<img> tags.
- During a re-render,
  React will calculate which of their properties, if any,
  have changed since the previous render.
  It won’t do anything with
  that information until the next step, the commit phase.
