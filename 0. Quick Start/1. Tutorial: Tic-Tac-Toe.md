# Tutorial: Tic-Tac-Toe

You will build a small tic-tac-toe game during this tutorial.
This tutorial does not assume any existing React knowledge.
The techniques you’ll learn in the tutorial are fundamental to building any React app,
and fully understanding it will give you a deep understanding of React.

### Note

This tutorial is designed for people who prefer to learn by doing and want to quickly try making something tangible.
If you prefer learning each concept step by step, start with Describing the UI.

The tutorial is divided into several sections:

- Setup for the tutorial will give you a starting point to follow the tutorial.
- Overview will teach you the fundamentals of React: components, props, and state.
- Completing the game will teach you the most common techniques in React development.
- Adding time travel will give you a deeper insight into the unique strengths of React.

## What are you building?

In this tutorial, you’ll build an interactive tic-tac-toe game with React.

You can see what it will look like when you’re finished here:

```jsx
import { useState } from "react";

function Square({ value, onSquareClick }) {
  return (
    <button className="square" onClick={onSquareClick}>
      {value}
    </button>
  );
}

function Board({ xIsNext, squares, onPlay }) {
  function handleClick(i) {
    if (calculateWinner(squares) || squares[i]) {
      return;
    }
    const nextSquares = squares.slice();
    if (xIsNext) {
      nextSquares[i] = "X";
    } else {
      nextSquares[i] = "O";
    }
    onPlay(nextSquares);
  }

  const winner = calculateWinner(squares);
  let status;
  if (winner) {
    status = "Winner: " + winner;
  } else {
    status = "Next player: " + (xIsNext ? "X" : "O");
  }

  return (
    <>
      <div className="status">{status}</div>
      <div className="board-row">
        <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
        <Square value={squares[1]} onSquareClick={() => handleClick(1)} />
        <Square value={squares[2]} onSquareClick={() => handleClick(2)} />
      </div>
      <div className="board-row">
        <Square value={squares[3]} onSquareClick={() => handleClick(3)} />
        <Square value={squares[4]} onSquareClick={() => handleClick(4)} />
        <Square value={squares[5]} onSquareClick={() => handleClick(5)} />
      </div>
      <div className="board-row">
        <Square value={squares[6]} onSquareClick={() => handleClick(6)} />
        <Square value={squares[7]} onSquareClick={() => handleClick(7)} />
        <Square value={squares[8]} onSquareClick={() => handleClick(8)} />
      </div>
    </>
  );
}

export default function Game() {
  const [history, setHistory] = useState([Array(9).fill(null)]);
  const [currentMove, setCurrentMove] = useState(0);
  const xIsNext = currentMove % 2 === 0;
  const currentSquares = history[currentMove];

  function handlePlay(nextSquares) {
    const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];
    setHistory(nextHistory);
    setCurrentMove(nextHistory.length - 1);
  }

  function jumpTo(nextMove) {
    setCurrentMove(nextMove);
  }

  const moves = history.map((squares, move) => {
    let description;
    if (move > 0) {
      description = "Go to move #" + move;
    } else {
      description = "Go to game start";
    }
    return (
      <li key={move}>
        <button onClick={() => jumpTo(move)}>{description}</button>
      </li>
    );
  });

  return (
    <div className="game">
      <div className="game-board">
        <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
      </div>
      <div className="game-info">
        <ol>{moves}</ol>
      </div>
    </div>
  );
}

function calculateWinner(squares) {
  const lines = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6],
  ];
  for (let i = 0; i < lines.length; i++) {
    const [a, b, c] = lines[i];
    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
      return squares[a];
    }
  }
  return null;
}
```

If the code doesn’t make sense to you yet, or if you are unfamiliar with the code’s syntax, don’t worry!
The goal of this tutorial is to help you understand React and its syntax.
We recommend that you check out the tic-tac-toe game above before continuing with the tutorial.
One of the features that you’ll notice is that there is a numbered list to the right of the game’s board.
This list gives you a history of all of the moves that have occurred in the game,
and it is updated as the game progresses.

Once you’ve played around with the finished tic-tac-toe game, keep scrolling.
You’ll start with a simpler template in this tutorial.
Our next step is to set you up so that you can start building the game.

## Setup for the tutorial

In the live code editor below,
click Fork in the top-right corner to open the editor in a new tab using the website CodeSandbox.
CodeSandbox lets you write code in your browser and preview how your users will see the app you’ve created.
The new tab should display an empty square and the starter code for this tutorial.

### Note

You can also follow this tutorial using your local development environment.
To do this, you need to:

1. Install Node.js
2. In the CodeSandbox tab you opened earlier, press the top-left corner button to open the menu, and then choose File > Export to ZIP in that menu to download an archive of the files locally
3. Unzip the archive, then open a terminal and cd to the directory you unzipped
4. Install the dependencies with npm install
5. Run npm start to start a local server and follow the prompts to view the code running in a browser

If you get stuck,
don’t let this stop you!
Follow along online instead
and try a local setup again later.

## Overview

Now that you’re set up, let’s get an overview of React!

### Inspecting the starter code

In CodeSandbox you’ll see three main sections:

![](https://react.dev/images/tutorial/react-starter-code-codesandbox.png)

1. The Files section with a list of files like App.js, index.js, styles.css and a folder called public
2. The code editor where you’ll see the source code of your selected file
3. The browser section where you’ll see how the code you’ve written will be displayed

The App.js file should be selected in the Files section.
The contents of that file in the code editor should be:

```jsx
export default function Square() {
  return <button className="square">X</button>;
}
```

The browser section should be displaying a square with a X in it like this:

![](https://react.dev/images/tutorial/x-filled-square.png)

Now let’s have a look at the files in the starter code.

#### App.js

The code in App.js creates a component.
In React, a component is a piece of reusable code
that represents a part of a user interface.
Components are used to render, manage, and update the UI elements in your application.
Let’s look at the component line by line to see what’s going on:

```jsx
export default function Square() {
  return <button className="square">X</button>;
}
```

The first line defines a function called Square.
The export JavaScript keyword makes this function accessible outside of this file.
The default keyword tells other files using your code that it’s the main function in your file.

```jsx
export default function Square() {
  return <button className="square">X</button>;
}
```

The second line returns a button.
The return JavaScript keyword means whatever comes after
is returned as a value to the caller of the function.
\<button> is a JSX element.
A JSX element is a combination of JavaScript code and HTML tags
that describes what you’d like to display.
className="square" is a button property or prop that tells CSS how to style the button.
X is the text displayed inside of the button
and \</button> closes the JSX element to indicate
that any following content shouldn’t be placed inside the button.

#### styles.css

Click on the file labeled styles.css in the Files section of CodeSandbox.
This file defines the styles for your React app.
The first two CSS selectors (\* and body) define the style of large parts of your app
while the .square selector defines the style of any component
where the className property is set to square.
In your code, that would match the button from your Square component in the App.js file.

#### index.js

Click on the file labeled index.js in the Files section of CodeSandbox.
You won’t be editing this file during the tutorial
but it is the bridge between the component you created in the App.js file and the web browser.

```jsx
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";
```

Lines 1-5 brings all the necessary pieces together:

- React
- React’s library to talk to web browsers (React DOM)
- the styles for your components
- the component you created in App.js.

The remainder of the file brings all the pieces together and injects the final product into index.html in the public folder.

### Building the board

Let’s get back to App.js.
This is where you’ll spend the rest of the tutorial.

Currently the board is only a single square,
but you need nine!
If you just try and copy paste your square to make two squares like this:

```jsx
export default function Square() {
  return <button className="square">X</button><button className="square">X</button>;
}
```

You’ll get this error:

```
/src/App.js: Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?
```

React components need to return a single JSX element
and not multiple adjacent JSX elements like two buttons.
To fix this you can use fragments (\<> and \</>) to wrap multiple adjacent JSX elements like this:

```jsx
export default function Square() {
  return (
    <>
      <button className="square">X</button>
      <button className="square">X</button>
    </>
  );
}
```

Now you should see:

![](https://react.dev/images/tutorial/two-x-filled-squares.png)
